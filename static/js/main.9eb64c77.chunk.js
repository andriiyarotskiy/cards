(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{103:function(e,a,t){e.exports=t(134)},108:function(e,a,t){},109:function(e,a,t){},134:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(8),o=t.n(s),l=(t(108),t(109),t(29)),i=t(14),c=function(){return n.a.createElement(n.a.Fragment,null)},u=t(63),m=t.n(u),d=t(11),p=t(38),g=t.n(p),E=t(49),f=t(19),b=t(85),h=t.n(b).a.create(Object(f.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),v=function(e){return h.post("auth/login",e)},w=function(e){return h.post("auth/register",e)},S=function(e){return h.post("auth/forgot",e)},P=function(e){return h.post("auth/set-new-password",e)},y=function(){return h.post("auth/me",{})},O=function(){return h.delete("auth/me",{})},I=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},T=function(e){return{type:"login/SET-STATUS-PROGRESS",progress:e}},R={isAuth:!1,progress:"idle",error:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"login/SET-IS-LOGGED-IN":return Object(f.a)({},e,{isAuth:a.value});case"login/SET-STATUS-PROGRESS":return Object(f.a)({},e,{progress:a.progress});case"login/SET-ERROR-MESSAGE":return Object(f.a)({},e,{error:a.error});default:return e}},k={userData:{email:"",name:""},isInitialized:!0},N=function(e){return{type:"SET-PROFILE-DATA",userData:e}},_=function(e){return{type:"USER-INITIALIZED",isInitialized:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-PROFILE-DATA":return Object(f.a)({},e,{userData:a.userData});case"USER-INITIALIZED":return Object(f.a)({},e,{isInitialized:a.isInitialized});default:return e}},x=t(164),C=t(168),D=function(){var e=Object(d.c)((function(e){return e.profile.isInitialized})),a=Object(d.c)((function(e){return e.login.isAuth})),t=Object(d.c)((function(e){return e.profile.userData})),s=Object(d.b)();Object(r.useEffect)((function(){s(function(){var e=Object(E.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(_(!0)),e.next=4,y();case 4:t=e.sent,a(N(t.data)),a(I(!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 12:a(_(!1));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())}),[s]);return e?n.a.createElement("div",{style:{position:"fixed",top:"0",textAlign:"center",width:"100%"}},n.a.createElement(x.a,null)):a?n.a.createElement("div",{className:m.a.mainBlock},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:m.a.title},"Main page"),n.a.createElement("h3",null,t.name),n.a.createElement(C.a,{onClick:function(){s(function(){var e=Object(E.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(_(!0)),e.next=4,O();case 4:t=e.sent,console.log(t.data.info),a(I(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 12:a(_(!1));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())},variant:"contained",color:"primary"},"Log Out"))):n.a.createElement(i.a,{to:"/authPage/login"})},F=t(175),W=t(173),L=t(174),q=t(169),G=t(33),Z=t(171),U=t(182),z=t(135),B=t(177),K=t(172),M=t(179),$=t(91),V=t.n($),J=t(31),Y=t.n(J),H=t(178),Q=t(181),X=function(e){var a=e.error,t=e.dispatchCallback,r=e.open,s=e.severity,o=e.sneckbarStyle,l=Object(d.b)();return n.a.createElement(Q.a,{className:o,open:r,autoHideDuration:5e3,onClose:function(e,a){"clickaway"!==a&&l(t(null))}},n.a.createElement(H.a,{variant:"filled",severity:s},a))},ee=t(42),ae=t.n(ee),te=function(e){var a=e.classes,t=Object(d.c)((function(e){return e.login})),r=t.progress,s=t.error,o=Object(d.b)(),i=Object(G.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<7&&(a.password="Password > 7 symbols"):a.password="Required",a},onSubmit:function(e){var a;o((a=e,function(e){e(T("loading")),v(a).then((function(a){e(I(!0)),e(N(a.data)),e(T("succeeded"))})).catch((function(a){e({type:"login/SET-ERROR-MESSAGE",error:a.response.data.error}),e(T("failed"))}))}))}}),c=!(!i.touched.email||!i.errors.email),u=!(!i.touched.password||!i.errors.password),m="failed"===r;return n.a.createElement(n.a.Fragment,null,"loading"===r?n.a.createElement("div",{className:Y.a.circularProgress},n.a.createElement(Z.a,null)):n.a.createElement(U.a,{className:a.avatar},n.a.createElement(V.a,null)),n.a.createElement(z.a,{component:"h1",variant:"h5"},"Sign in"),n.a.createElement("div",{className:Y.a.loginPage},n.a.createElement("form",{onSubmit:i.handleSubmit,className:a.form},n.a.createElement("div",{className:Y.a.customInput},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",name:"email",label:"Email Address",onKeyPress:function(e){i.setTouched({},!1)},error:c,autoComplete:"email",autoFocus:!0,helperText:n.a.createElement("span",{style:{color:"red",position:"absolute"}},i.errors.email)},i.getFieldProps("email"))),c?n.a.createElement("div",{className:Y.a.iconError},n.a.createElement(ae.a,{color:"secondary"})):null),n.a.createElement("div",{className:Y.a.customInput},n.a.createElement("div",{className:Y.a.customInput},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},i.getFieldProps("password"),{error:u,helperText:n.a.createElement("span",{style:{color:"red",position:"absolute"}},i.errors.password)})),u?n.a.createElement("div",{className:Y.a.iconError},n.a.createElement(ae.a,{color:"secondary"})):null)),n.a.createElement(K.a,{control:n.a.createElement(M.a,Object.assign({},i.getFieldProps("rememberMe"),{color:"primary"})),label:"Remember me"}),n.a.createElement(C.a,{disabled:function(){if("loading"===r||!i.values.email||!i.values.password)return!0}(),type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),n.a.createElement(W.a,{container:!0},n.a.createElement(W.a,{item:!0,xs:!0},n.a.createElement(l.b,{to:"/authPage/forgotPassword"},"Forgot password?")),n.a.createElement(W.a,{item:!0},n.a.createElement(l.b,{to:"/authPage/registration"},"Don't have an account? Sign Up"))),n.a.createElement(X,{error:s,sneckbarStyle:Y.a.snackbarItem,dispatchCallback:function(){return T("idle")},open:m,severity:"error"}))))},re={isLoggedIn:!1,error:null,loaderStatus:"idle"},ne=function(e){return{type:"SET-ERROR-REGISTRATION",error:e}},se=function(e){return{type:"SET-REQUEST-STATUS",loaderStatus:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-IS-LOGGED-IN":return Object(f.a)({},e,{isLoggedIn:!0});case"SET-ERROR-REGISTRATION":return Object(f.a)({},e,{error:a.error});case"SET-REQUEST-STATUS":return Object(f.a)({},e,{loaderStatus:a.loaderStatus});default:return e}},le=t(28),ie=t.n(le),ce=function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<7?a.password="Password must be 8 characters or more":e.repeatPassword?e.repeatPassword!==e.password&&(a.password="Your passwords are not equal",a.repeatPassword="Your passwords are not equal"):a.repeatPassword="Please repeat you password":a.password="Enter you password",a},ue=function(e){var a=e.classes,t=Object(d.b)(),r=Object(d.c)((function(e){return e.registration})),s=r.isLoggedIn,o=r.error,l=r.loaderStatus,c=Object(G.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:ce,onSubmit:function(e){var a,r=e.email,n=e.password;t((a={email:r,password:n},function(){var e=Object(E.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se("loading")),e.prev=1,e.next=4,w(a);case 4:t({type:"SET-IS-LOGGED-IN"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t(ne(e.t0.response.data.error));case 10:return e.prev=10,t(se("idle")),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(a){return e.apply(this,arguments)}}()))}}),u=null!==o,m=function(e){c.setTouched({},!1)},p=!(!c.touched.email||!c.errors.email),f=!(!c.touched.password||!c.errors.password),b=!!(f&&c.touched.repeatPassword||c.errors.repeatPassword);return s?n.a.createElement(i.a,{to:"/authPage/login"}):n.a.createElement(n.a.Fragment,null,"loading"===l?n.a.createElement("div",{className:ie.a.circularProgress},n.a.createElement(Z.a,null)):n.a.createElement(U.a,{className:a.avatar}),n.a.createElement(z.a,{component:"h1",variant:"h5"},"Sign up"),n.a.createElement("form",{onSubmit:c.handleSubmit,className:a.form},n.a.createElement("div",{className:ie.a.customInput},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onKeyPress:m,error:p,helperText:n.a.createElement("span",{style:{color:"red",position:"absolute"}},c.errors.email)},c.getFieldProps("email"))),p?n.a.createElement("div",{className:ie.a.iconError},n.a.createElement(ae.a,{color:"secondary"})):null),n.a.createElement("div",{className:ie.a.customInput},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onKeyPress:m,autoComplete:"current-password",error:f},c.getFieldProps("password"),{helperText:n.a.createElement("span",{style:{color:"red",position:"absolute"}},c.errors.password)})),f?n.a.createElement("div",{className:ie.a.iconError},n.a.createElement(ae.a,{color:"secondary"})):null),n.a.createElement("div",{className:ie.a.customInput},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Repeat Password",type:"password",id:"repeatPassword",autoComplete:"current-password",name:"repeatPassword",onKeyPress:m,error:b,helperText:n.a.createElement("span",{style:{color:"red",position:"absolute"}},c.errors.repeatPassword)},c.getFieldProps("repeatPassword"))),b?n.a.createElement("div",{className:ie.a.iconError},n.a.createElement(ae.a,{color:"secondary"})):null),n.a.createElement(C.a,{disabled:"loading"===l,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),n.a.createElement("div",{className:ie.a.snackBarContainer},n.a.createElement(X,{sneckbarStyle:ie.a.snackbarItem,error:o,dispatchCallback:function(){return ne(null)},open:u,severity:"error"}))))},me={email:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FORGOT-PASSWORD":return Object(f.a)({},e,{email:a.value});default:return e}},pe=t(68),ge=t.n(pe),Ee=function(e){var a=e.classes,t=Object(d.b)(),r=Object(d.c)((function(e){return e.login.progress})),s=Object(G.a)({initialValues:{email:"",from:"test-front-admin <wnbroz20@meta.ua>",message:"<div>password recovery link: <a href='https://andriiyarotskiy.github.io/cards/#/passwordChange/$token$'>TAP TAP TAP</a></div>"},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",a},onSubmit:function(e){var a;t((a=e,function(e){e(T("loading")),S(a).then((function(a){console.log(a.data.info),e(T("succeeded"))})).catch((function(a){console.log(a),e(T("failed"))}))})),s.resetForm()}}),o="succeeded"===r;return n.a.createElement(n.a.Fragment,null,"loading"===r?n.a.createElement(x.a,null):null,n.a.createElement(U.a,{className:a.avatar}),n.a.createElement(z.a,{component:"h1",variant:"h5"},"Restore Password"),n.a.createElement("form",{onSubmit:s.handleSubmit,className:a.form},n.a.createElement("div",{className:ge.a.forgotPass},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"},s.getFieldProps("email"))),n.a.createElement(C.a,{disabled:function(){if("loading"===r)return!0}(),type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Restore password"),n.a.createElement(X,{error:"This is a success message!",dispatchCallback:function(){return T("idle")},open:o,severity:"success",sneckbarStyle:ge.a.snackbarItem}))))},fe=function(){var e=be();return Object(d.c)((function(e){return e.login.isAuth}))?n.a.createElement(i.a,{to:"/"}):n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{container:!0,component:"main",className:e.root},n.a.createElement(L.a,null),n.a.createElement(W.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),n.a.createElement(W.a,{item:!0,xs:12,sm:8,md:5,component:q.a,elevation:6,square:!0},n.a.createElement("div",{className:e.paper},n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/authPage/login",render:function(){return n.a.createElement(te,{classes:e})}}),n.a.createElement(i.b,{path:"/authPage/registration",render:function(){return n.a.createElement(ue,{classes:e})}}),n.a.createElement(i.b,{path:"/authPage/forgotPassword",render:function(){return n.a.createElement(Ee,{classes:e})}}))))))},be=Object(F.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),he=t(176),ve={password:"",setPassword:!1,isCorrectPass:!1},we=function(e){return{type:"IS-CORRECT-PASSWORD",isCorrect:e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-PASSWORD":return Object(f.a)({},e,{setPassword:a.isSet});case"IS-CORRECT-PASSWORD":return Object(f.a)({},e,{isCorrectPass:a.isCorrect});default:return e}},Pe=function(){var e=ye(),a=Object(d.c)((function(e){return e.changePassword})),t=a.isCorrectPass,r=a.setPassword,s=Object(d.b)(),o=Object(i.g)().token;console.log(t);var l=Object(G.a)({initialValues:{password:"",resetPasswordToken:o},validate:function(e){var a={};return e.password?e.password.length<7&&(a.password="Password > 7 symbols"):a.password="Required",a},onSubmit:function(e){var a;s((a=e,function(e){e(T("loading")),e(we(!0)),P(a).then((function(a){console.log(a.data),e({type:"SET-PASSWORD",isSet:!0}),e(we(!1)),e(T("succeeded"))})).catch((function(a){e(T("failed")),console.log(a)}))})),console.log(e)}});return r?n.a.createElement(i.a,{to:"/"}):n.a.createElement(n.a.Fragment,null,t?n.a.createElement(x.a,null):null,n.a.createElement(he.a,{component:"main",maxWidth:"xs"},n.a.createElement(L.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(U.a,{className:e.avatar}),n.a.createElement(z.a,{component:"h1",variant:"h5"},"Change Password"),n.a.createElement("form",{onSubmit:l.handleSubmit,className:e.form},n.a.createElement(B.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},l.getFieldProps("password"),{helperText:n.a.createElement("span",{style:{color:"red",position:"fixed"}},l.errors.password)})),n.a.createElement(C.a,{disabled:t,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"change password")))))},ye=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Oe=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(l.a,null,n.a.createElement(c,null),n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/",render:function(){return n.a.createElement(D,null)}}),n.a.createElement(i.b,{path:"/authPage",render:function(){return n.a.createElement(fe,null)}}),n.a.createElement(i.b,{path:"/passwordChange/:token",render:function(){return n.a.createElement(Pe,null)}}))))},Ie=t(45),Te=t(92),Re=Object(Ie.c)({profile:A,login:j,registration:oe,changePassword:Se,forgotPassword:de}),je=Object(Ie.d)(Re,Object(Ie.a)(Te.a));window.store=je,o.a.render(n.a.createElement(d.a,{store:je},n.a.createElement(Oe,null)),document.getElementById("root"))},28:function(e,a,t){e.exports={circularProgress:"Registration_circularProgress__3Xawq",snackBarContainer:"Registration_snackBarContainer__27mg0",snackbarItem:"Registration_snackbarItem__3w1ap",customInput:"Registration_customInput__2yf13",iconError:"Registration_iconError__2ZXk5"}},31:function(e,a,t){e.exports={circularProgress:"Login_circularProgress__38cNZ",loginPage:"Login_loginPage__3OgaT",snackbarItem:"Login_snackbarItem__3vmGO",customInput:"Login_customInput__2grzW",iconError:"Login_iconError__2D8u2"}},63:function(e,a,t){e.exports={title:"Profile_title__3iYoJ"}},68:function(e,a,t){e.exports={forgotPass:"ForgotPassword_forgotPass__W3KB7",snackbarItem:"ForgotPassword_snackbarItem__15E_H"}}},[[103,1,2]]]);
//# sourceMappingURL=main.9eb64c77.chunk.js.map